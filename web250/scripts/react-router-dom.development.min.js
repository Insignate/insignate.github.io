!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-router"),require("@remix-run/router")):"function"==typeof define&&define.amd?define(["exports","react","react-router","@remix-run/router"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactRouterDOM={},e.React,e.ReactRouter,e.RemixRouter)}(this,function(e,t,v,h){"use strict";function r(r){if(r&&r.__esModule)return r;var n=Object.create(null);return r&&Object.keys(r).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(r,e),Object.defineProperty(n,e,t.get?t:{enumerable:!0,get:function(){return r[e]}}))}),n.default=r,Object.freeze(n)}var l,f,g=r(t);function R(){return(R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),a=0;a<o.length;a++)r=o[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}const p="get",d="application/x-www-form-urlencoded";function m(e){return null!=e&&"string"==typeof e.tagName}function c(n){return void 0===n&&(n=""),new URLSearchParams("string"==typeof n||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(e=>[t,e]):[[t,r]])},[]))}function s(t,r,n){let o,a,u,i;if(m(l=t)&&"form"===l.tagName.toLowerCase()){l=n.submissionTrigger;o=n.method||t.getAttribute("method")||p,a=n.action||t.getAttribute("action")||r,u=n.encType||t.getAttribute("enctype")||d,i=new FormData(t),l&&l.name&&i.append(l.name,l.value)}else if(m(l=t)&&"button"===l.tagName.toLowerCase()||m(l=t)&&"input"===l.tagName.toLowerCase()&&("submit"===t.type||"image"===t.type)){let e=t.form;if(null==e)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');o=n.method||t.getAttribute("formmethod")||e.getAttribute("method")||p,a=n.action||t.getAttribute("formaction")||e.getAttribute("action")||r,u=n.encType||t.getAttribute("formenctype")||e.getAttribute("enctype")||d,i=new FormData(e),t.name&&i.append(t.name,t.value)}else{if(m(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(o=n.method||p,a=n.action||r,u=n.encType||d,t instanceof FormData)i=t;else if(i=new FormData,t instanceof URLSearchParams)for(var[e,c]of t)i.append(e,c);else if(null!=t)for(var s of Object.keys(t))i.append(s,t[s])}var{protocol:l,host:r}=window.location;return{url:new URL(a,l+"//"+r),method:o.toLowerCase(),encType:u,formData:i}}const y=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],P=["aria-current","caseSensitive","className","end","style","to","children"],b=["reloadDocument","replace","method","action","onSubmit","fetcherKey","routeId","relative","preventScrollReset"];function n(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t=t&&t.errors?R({},t,{errors:function(e){if(!e)return null;let t=Object.entries(e),r={};for(var[n,o]of t)if(o&&"RouteErrorResponse"===o.__type)r[n]=new h.ErrorResponse(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){let e=new Error(o.message);e.stack="",r[n]=e}else r[n]=o;return r}(t.errors)}):t}function o(e){let{basename:t,children:r,history:n}=e;const[o,a]=g.useState({action:n.action,location:n.location});return g.useLayoutEffect(()=>n.listen(a),[n]),g.createElement(v.Router,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:n})}o.displayName="unstable_HistoryRouter";const S="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O=g.forwardRef(function(e,t){let{onClick:r,relative:n,reloadDocument:o,replace:a,state:u,target:i,to:c,preventScrollReset:s}=e,l=w(e,y);var f,e=g.useContext(v.UNSAFE_NavigationContext)["basename"];let d,m=!1;"string"==typeof c&&E.test(c)&&(d=c,S&&(p=new URL(window.location.href),f=c.startsWith("//")?new URL(p.protocol+c):new URL(c),e=h.stripBasename(f.pathname,e),f.origin===p.origin&&null!=e?c=e+f.search+f.hash:m=!0));var p=v.useHref(c,{relative:n});let b=C(c,{replace:a,state:u,target:i,preventScrollReset:s,relative:n});return g.createElement("a",R({},l,{href:d||p,onClick:m||o?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:i}))}),a=(O.displayName="Link",g.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:o="",end:a=!1,style:u,to:i,children:c}=e,s=w(e,P);var e=v.useResolvedPath(i,{relative:s.relative}),l=v.useLocation(),f=g.useContext(v.UNSAFE_DataRouterStateContext);let d=g.useContext(v.UNSAFE_NavigationContext)["navigator"],m=(d.encodeLocation?d.encodeLocation(e):e).pathname,p=l.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(p=p.toLowerCase(),b=b?b.toLowerCase():null,m=m.toLowerCase());e=p===m||!a&&p.startsWith(m)&&"/"===p.charAt(m.length),l=null!=b&&(b===m||!a&&b.startsWith(m)&&"/"===b.charAt(m.length)),f=e?r:void 0;let h;h="function"==typeof o?o({isActive:e,isPending:l}):[o,e?"active":null,l?"pending":null].filter(Boolean).join(" ");var y="function"==typeof u?u({isActive:e,isPending:l}):u;return g.createElement(O,R({},s,{"aria-current":f,className:h,ref:t,style:y,to:i}),"function"==typeof c?c({isActive:e,isPending:l}):c)})),u=(a.displayName="NavLink",g.forwardRef((e,t)=>g.createElement(j,R({},e,{ref:t})))),j=(u.displayName="Form",g.forwardRef((e,t)=>{let{reloadDocument:r,replace:n,method:o=p,action:a,onSubmit:u,fetcherKey:i,routeId:c,relative:s,preventScrollReset:l}=e,f=w(e,b),d=U(i,c);var e="get"===o.toLowerCase()?"get":"post",m=_(a,{relative:s});return g.createElement("form",R({ref:t,method:e,action:m,onSubmit:r?u:t=>{if(u&&u(t),!t.defaultPrevented){t.preventDefault();let e=t.nativeEvent.submitter;var r=(null==e?void 0:e.getAttribute("formmethod"))||o;d(e||t.currentTarget,{method:r,replace:n,relative:s,preventScrollReset:l})}}},f))}));function i(e){var{getKey:e,storageKey:t}=e;return D({getKey:e,storageKey:t}),null}function N(e){return e+" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router."}function A(e){var t=g.useContext(v.UNSAFE_DataRouterContext);return t||h.UNSAFE_invariant(!1,N(e)),t}function F(e){var t=g.useContext(v.UNSAFE_DataRouterStateContext);return t||h.UNSAFE_invariant(!1,N(e)),t}function C(n,e){let{target:o,replace:a,state:u,preventScrollReset:i,relative:c}=void 0===e?{}:e,s=v.useNavigate(),l=v.useLocation(),f=v.useResolvedPath(n,{relative:c});return g.useCallback(e=>{var t,r;t=e,r=o,0!==t.button||r&&"_self"!==r||((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||(e.preventDefault(),t=void 0!==a?a:v.createPath(l)===v.createPath(f),s(n,{replace:t,state:u,preventScrollReset:i,relative:c}))},[l,s,f,a,u,o,n,i,c])}function U(a,u){let i=A(l.UseSubmitImpl)["router"],c=_();return g.useCallback(function(e,t){if(void 0===t&&(t={}),"undefined"==typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");var{method:e,encType:r,formData:n,url:o}=s(e,c,t),o=o.pathname+o.search,t={replace:t.replace,preventScrollReset:t.preventScrollReset,formData:n,formMethod:e,formEncType:r};a?(null==u&&h.UNSAFE_invariant(!1,"No routeId available for useFetcher()"),i.fetch(a,u,o,t)):i.navigate(o,t)},[c,i,a,u])}function _(e,t){var t=(void 0===t?{}:t)["relative"],r=g.useContext(v.UNSAFE_NavigationContext)["basename"];let n=g.useContext(v.UNSAFE_RouteContext);n||h.UNSAFE_invariant(!1,"useFormAction must be used inside a RouteContext");var[o]=n.matches.slice(-1);let a=R({},v.useResolvedPath(e||".",{relative:t}));t=v.useLocation();if(null==e&&(a.search=t.search,a.hash=t.hash,o.route.index)){let e=new URLSearchParams(a.search);e.delete("index"),a.search=e.toString()?"?"+e.toString():""}return e&&"."!==e||!o.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),"/"!==r&&(a.pathname="/"===a.pathname?r:h.joinPaths([r,a.pathname])),v.createPath(a)}j.displayName="FormImpl",i.displayName="ScrollRestoration",(t=l=l||{}).UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher",(t=f=f||{}).UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration";let k=0;const L="react-router-scroll-positions";let x={};function D(e){let{getKey:r,storageKey:n}=void 0===e?{}:e,t=A(l.UseScrollRestoration)["router"],{restoreScrollPosition:o,preventScrollReset:a}=F(f.UseScrollRestoration),u=v.useLocation(),i=v.useMatches(),c=v.useNavigation();g.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]);{var s=g.useCallback(()=>{var e;"idle"===c.state&&(e=(r?r(u,i):null)||u.key,x[e]=window.scrollY),sessionStorage.setItem(n||L,JSON.stringify(x)),window.history.scrollRestoration="auto"},[n,r,c.state,u,i]);let t=((e=void 0)||{})["capture"];g.useEffect(()=>{let e=null!=t?{capture:t}:void 0;return window.addEventListener("pagehide",s,e),()=>{window.removeEventListener("pagehide",s,e)}},[s,t])}"undefined"!=typeof document&&(g.useLayoutEffect(()=>{try{var e=sessionStorage.getItem(n||L);e&&(x=JSON.parse(e))}catch(e){}},[n]),g.useLayoutEffect(()=>{let e=null==t?void 0:t.enableScrollRestoration(x,()=>window.scrollY,r);return()=>e&&e()},[t,r]),g.useLayoutEffect(()=>{if(!1!==o)if("number"==typeof o)window.scrollTo(0,o);else{if(u.hash){let e=document.getElementById(u.hash.slice(1));if(e)return void e.scrollIntoView()}!0!==a&&window.scrollTo(0,0)}},[u,o,a]))}Object.defineProperty(e,"AbortedDeferredError",{enumerable:!0,get:function(){return v.AbortedDeferredError}}),Object.defineProperty(e,"Await",{enumerable:!0,get:function(){return v.Await}}),Object.defineProperty(e,"MemoryRouter",{enumerable:!0,get:function(){return v.MemoryRouter}}),Object.defineProperty(e,"Navigate",{enumerable:!0,get:function(){return v.Navigate}}),Object.defineProperty(e,"NavigationType",{enumerable:!0,get:function(){return v.NavigationType}}),Object.defineProperty(e,"Outlet",{enumerable:!0,get:function(){return v.Outlet}}),Object.defineProperty(e,"Route",{enumerable:!0,get:function(){return v.Route}}),Object.defineProperty(e,"Router",{enumerable:!0,get:function(){return v.Router}}),Object.defineProperty(e,"RouterProvider",{enumerable:!0,get:function(){return v.RouterProvider}}),Object.defineProperty(e,"Routes",{enumerable:!0,get:function(){return v.Routes}}),Object.defineProperty(e,"UNSAFE_DataRouterContext",{enumerable:!0,get:function(){return v.UNSAFE_DataRouterContext}}),Object.defineProperty(e,"UNSAFE_DataRouterStateContext",{enumerable:!0,get:function(){return v.UNSAFE_DataRouterStateContext}}),Object.defineProperty(e,"UNSAFE_LocationContext",{enumerable:!0,get:function(){return v.UNSAFE_LocationContext}}),Object.defineProperty(e,"UNSAFE_NavigationContext",{enumerable:!0,get:function(){return v.UNSAFE_NavigationContext}}),Object.defineProperty(e,"UNSAFE_RouteContext",{enumerable:!0,get:function(){return v.UNSAFE_RouteContext}}),Object.defineProperty(e,"UNSAFE_enhanceManualRouteObjects",{enumerable:!0,get:function(){return v.UNSAFE_enhanceManualRouteObjects}}),Object.defineProperty(e,"createMemoryRouter",{enumerable:!0,get:function(){return v.createMemoryRouter}}),Object.defineProperty(e,"createPath",{enumerable:!0,get:function(){return v.createPath}}),Object.defineProperty(e,"createRoutesFromChildren",{enumerable:!0,get:function(){return v.createRoutesFromChildren}}),Object.defineProperty(e,"createRoutesFromElements",{enumerable:!0,get:function(){return v.createRoutesFromElements}}),Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return v.defer}}),Object.defineProperty(e,"generatePath",{enumerable:!0,get:function(){return v.generatePath}}),Object.defineProperty(e,"isRouteErrorResponse",{enumerable:!0,get:function(){return v.isRouteErrorResponse}}),Object.defineProperty(e,"json",{enumerable:!0,get:function(){return v.json}}),Object.defineProperty(e,"matchPath",{enumerable:!0,get:function(){return v.matchPath}}),Object.defineProperty(e,"matchRoutes",{enumerable:!0,get:function(){return v.matchRoutes}}),Object.defineProperty(e,"parsePath",{enumerable:!0,get:function(){return v.parsePath}}),Object.defineProperty(e,"redirect",{enumerable:!0,get:function(){return v.redirect}}),Object.defineProperty(e,"renderMatches",{enumerable:!0,get:function(){return v.renderMatches}}),Object.defineProperty(e,"resolvePath",{enumerable:!0,get:function(){return v.resolvePath}}),Object.defineProperty(e,"unstable_useBlocker",{enumerable:!0,get:function(){return v.unstable_useBlocker}}),Object.defineProperty(e,"useActionData",{enumerable:!0,get:function(){return v.useActionData}}),Object.defineProperty(e,"useAsyncError",{enumerable:!0,get:function(){return v.useAsyncError}}),Object.defineProperty(e,"useAsyncValue",{enumerable:!0,get:function(){return v.useAsyncValue}}),Object.defineProperty(e,"useHref",{enumerable:!0,get:function(){return v.useHref}}),Object.defineProperty(e,"useInRouterContext",{enumerable:!0,get:function(){return v.useInRouterContext}}),Object.defineProperty(e,"useLoaderData",{enumerable:!0,get:function(){return v.useLoaderData}}),Object.defineProperty(e,"useLocation",{enumerable:!0,get:function(){return v.useLocation}}),Object.defineProperty(e,"useMatch",{enumerable:!0,get:function(){return v.useMatch}}),Object.defineProperty(e,"useMatches",{enumerable:!0,get:function(){return v.useMatches}}),Object.defineProperty(e,"useNavigate",{enumerable:!0,get:function(){return v.useNavigate}}),Object.defineProperty(e,"useNavigation",{enumerable:!0,get:function(){return v.useNavigation}}),Object.defineProperty(e,"useNavigationType",{enumerable:!0,get:function(){return v.useNavigationType}}),Object.defineProperty(e,"useOutlet",{enumerable:!0,get:function(){return v.useOutlet}}),Object.defineProperty(e,"useOutletContext",{enumerable:!0,get:function(){return v.useOutletContext}}),Object.defineProperty(e,"useParams",{enumerable:!0,get:function(){return v.useParams}}),Object.defineProperty(e,"useResolvedPath",{enumerable:!0,get:function(){return v.useResolvedPath}}),Object.defineProperty(e,"useRevalidator",{enumerable:!0,get:function(){return v.useRevalidator}}),Object.defineProperty(e,"useRouteError",{enumerable:!0,get:function(){return v.useRouteError}}),Object.defineProperty(e,"useRouteLoaderData",{enumerable:!0,get:function(){return v.useRouteLoaderData}}),Object.defineProperty(e,"useRoutes",{enumerable:!0,get:function(){return v.useRoutes}}),e.BrowserRouter=function(e){var{basename:e,children:t,window:r}=e;let n=g.useRef(),o=(null==n.current&&(n.current=h.createBrowserHistory({window:r,v5Compat:!0})),n.current),[a,u]=g.useState({action:o.action,location:o.location});return g.useLayoutEffect(()=>o.listen(u),[o]),g.createElement(v.Router,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})},e.Form=u,e.HashRouter=function(e){var{basename:e,children:t,window:r}=e;let n=g.useRef(),o=(null==n.current&&(n.current=h.createHashHistory({window:r,v5Compat:!0})),n.current),[a,u]=g.useState({action:o.action,location:o.location});return g.useLayoutEffect(()=>o.listen(u),[o]),g.createElement(v.Router,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})},e.Link=O,e.NavLink=a,e.ScrollRestoration=i,e.UNSAFE_useScrollRestoration=D,e.createBrowserRouter=function(e,t){return h.createRouter({basename:null==t?void 0:t.basename,history:h.createBrowserHistory({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||n(),routes:v.UNSAFE_enhanceManualRouteObjects(e)}).initialize()},e.createHashRouter=function(e,t){return h.createRouter({basename:null==t?void 0:t.basename,history:h.createHashHistory({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||n(),routes:v.UNSAFE_enhanceManualRouteObjects(e)}).initialize()},e.createSearchParams=c,e.unstable_HistoryRouter=o,e.unstable_usePrompt=function(e){let{when:t,message:r}=e,n=v.unstable_useBlocker(t);g.useEffect(()=>{"blocked"!==n.state||t||n.reset()},[n,t]),g.useEffect(()=>{"blocked"===n.state&&(window.confirm(r)?setTimeout(n.proceed,0):n.reset())},[n,r])},e.useBeforeUnload=function(t,e){let r=(e||{})["capture"];g.useEffect(()=>{let e=null!=r?{capture:r}:void 0;return window.addEventListener("beforeunload",t,e),()=>{window.removeEventListener("beforeunload",t,e)}},[t,r])},e.useFetcher=function(){let t=A(l.UseFetcher)["router"];var e=g.useContext(v.UNSAFE_RouteContext);e||h.UNSAFE_invariant(!1,"useFetcher must be used inside a RouteContext");let o=null==(e=e.matches[e.matches.length-1])?void 0:e.route.id,[a]=(null==o&&h.UNSAFE_invariant(!1,'useFetcher can only be used on routes that contain a unique "id"'),g.useState(()=>String(++k))),[r]=g.useState(()=>{o||h.UNSAFE_invariant(!1,"No routeId available for fetcher.Form()");{var r=a,n=o;let e=g.forwardRef((e,t)=>g.createElement(j,R({},e,{ref:t,fetcherKey:r,routeId:n})));return e.displayName="fetcher.Form",e}}),[n]=g.useState(()=>e=>{t||h.UNSAFE_invariant(!1,"No router available for fetcher.load()"),o||h.UNSAFE_invariant(!1,"No routeId available for fetcher.load()"),t.fetch(a,o,e)}),u=U(a,o),i=t.getFetcher(a);return e=g.useMemo(()=>R({Form:r,submit:u,load:n},i),[i,r,u,n]),g.useEffect(()=>()=>{t?t.deleteFetcher(a):console.warn("No fetcher available to clean up from useFetcher()")},[t,a]),e},e.useFetchers=function(){let e=F(f.UseFetchers);return[...e.fetchers.values()]},e.useFormAction=_,e.useLinkClickHandler=C,e.useSearchParams=function(e){var t="undefined"!=typeof URLSearchParams,r="You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params\n\nIf you're unsure how to load polyfills, we recommend you check out https://polyfill.io/v3/ which provides some recommendations about how to load polyfills only for users that need them, instead of for every user.";if(!t){"undefined"!=typeof console&&console.warn(r);try{throw new Error(r)}catch(e){}}let o=g.useRef(c(e)),a=g.useRef(!1),u=v.useLocation(),n=g.useMemo(()=>{{var e=u.search,n=a.current?null:o.current;let r=c(e);if(n)for(let t of n.keys())r.has(t)||n.getAll(t).forEach(e=>{r.append(t,e)});return r}},[u.search]),i=v.useNavigate();return t=g.useCallback((e,t)=>{e=c("function"==typeof e?e(n):e);a.current=!0,i("?"+e,t)},[i,n]),[n,t]},e.useSubmit=function(){return U()},Object.defineProperty(e,"__esModule",{value:!0})});